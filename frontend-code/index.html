<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Onboarding</title>
    <style>
        :root {
            --primary-color: #000000;
            --secondary-color: #0900ad;
            --accent-color: #e74c3c;
            --light-gray: #ffffff;
            --dark-gray: #343a40;
            --border-color: #949393;
            --success-color: #8a0e81;
            --danger-color: #6b21b0;
        }
        
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        body {
            background-color: #ffffff;
            color: #212529;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .header h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header p {
            color: var(--dark-gray);
            font-size: 1.05rem;
        }
        
        .company-logo {
            height: 80px;
            width: 220px;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 25px;
            background-color: white;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }
        
        .section-title {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 25px;
            font-weight: 600;
            font-size: 1.25rem;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -10px;
        }
        
        .form-col {
            flex: 1;
            min-width: 200px;
            padding: 0 10px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        .required:after {
            content: " *";
            color: var(--accent-color);
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        input[type="file"],
        select,
        textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid rgb(139, 0, 181);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            border-radius: 4px;
            font-size: 15px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        input[readonly] {
            background-color: #ffffff;
            cursor: not-allowed;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .radio-group label, .checkbox-group label {
            margin: 0 0 0 10px;
            font-weight: normal;
            cursor: pointer;
        }
        
        .radio-group input, .checkbox-group input {
            cursor: pointer;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: none;
            padding: 10px 18px;
            font-size: 15px;
            font-weight: 500;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-primary {
            background-color: var(--secondary-color);
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .btn-sm {
            padding: 8px 14px;
            font-size: 14px;
        }
        
        .experience-item, .education-item, .certification-item {
            background: var(--light-gray);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            position: relative;
        }
        
        .document-upload {
            border: 2px dashed var(--border-color);
            padding: 20px;
            text-align: center;
            border-radius: 4px;
            margin-bottom: 10px;
            transition: border-color 0.2s;
        }
        
        .document-upload:hover {
            border-color: var(--secondary-color);
        }
        
        .document-upload p {
            margin: 10px 0 0;
            color: #6c757d;
            font-size: 14px;
        }
        
        .signature-upload {
            border: 1px solid var(--border-color);
            background: white;
            padding: 20px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        
        .form-note {
            font-size: 14px;
            color: #6c757d;
            margin-top: 5px;
            font-style: italic;
        }
        
        .input-banner {
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        .current-job-toggle {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        
        .current-job-toggle label {
            margin-left: 8px;
            margin-bottom: 0;
            cursor: pointer;
        }
        .valid {
            border-color: #28a745 !important;
        }
        .invalid {
            border-color: #dc3545 !important;
        }
        .validation-message {
            font-size: 0.8rem;
            color: #dc3545;
            margin-top: 5px;
            display: none;
        }
        .validation-message.visible {
            display: block;
        }
        .checkbox-group.invalid label:after {
            content: " *";
            color: #dc3545;
        }
        
        @media (max-width: 768px) {
            .form-col {
                flex: 100%;
                margin-bottom: 15px;
            }
            
            .form-section {
                padding: 20px;
            }
        }
        
        /* Additional styles for the form elements */
        .banner {
            background-color: var(--secondary-color);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        .banner .container {
            text-align: center;
        }
        
        .banner h2 {
            margin: 0;
            font-size: 2rem;
        }
        
        .banner p {
            margin: 10px 0 0;
            font-size: 1.1rem;
        }
        
        .checkbox-container {
            margin: 20px 0;
        }
        
        .file-input-label {
            display: block;
            padding: 15px;
            border: 2px dashed var(--border-color);
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-input-label:hover {
            border-color: var(--secondary-color);
            background-color: rgba(9, 0, 173, 0.05);
        }
        
        .error-message {
            color: var(--accent-color);
            font-size: 0.8rem;
            margin-top: 5px;
            display: none;
        }
        
        #submitBtn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s;
        }
        
        #submitBtn:hover {
            background-color: #0700a0;
        }
    </style>
</head>
<body>
    
    <div class="container">
        <div class="header">
            <img src="ATS-image.png" alt="Company Logo" class="company-logo">
            <h1>Employee Onboarding Form</h1>
            <p>Please complete all sections of this form to finalize your onboarding process</p>
        </div>

        <form id="onboardingForm" enctype="multipart/form-data">
            <!-- Personal Information -->
            <div class="form-section">
                <h3 class="section-title">Personal Information</h3>
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_name" class="required">Full Name</label>
                        <div class="form-group">
                            <input type="text" id="emp_name" name="emp_name" placeholder="Full Name" required maxlength="30" minlength="3">
                            <div id="name-error" class="validation-message">Name must be 3-30 alphabetic characters only</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <label for="emp_email" class="required">Email Address</label>
                        <div class="form-group">
                            <input type="email" id="emp_email" name="emp_email" placeholder="Email Address" required minlength="5" maxlength="40">
                            <div id="email-error" class="validation-message">Please enter a valid email address</div>
                        </div>
                    </div>
                </div>

                
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_dob" class="required">Date of Birth</label>
                        <div class="form-group">
                            <input type="date" id="emp_dob" name="emp_dob" required>
                            <div id="dob-error" class="validation-message">Employee must be at least 20 years old</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <label for="emp_mobile" class="required">Mobile Number</label>
                        <div class="form-group">
                            <input type="tel" id="emp_mobile" name="emp_mobile" placeholder="Mobile Number" required minlength="10" maxlength="10">
                            <div id="mobile-error" class="validation-message">Please enter a valid 10-digit phone number</div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_profile_pic" class="required">Profile Picture</label>
                        <div class="form-group">
                            <input type="file" id="emp_profile_pic" name="emp_profile_pic" accept="image/*" required>
                            <div id="profile-pic-error" class="validation-message">Please upload a profile picture (JPG/PNG, max 2MB)</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Address Information -->
            <div class="form-section">
                <h3 class="section-title">Address Information</h3>
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_address" class="required">Street Address</label>
                        <div class="form-group">
                            <input type="text" id="emp_address" name="emp_address" placeholder="Street Address" required minlength="5" maxlength="40">
                            <div id="address-error" class="validation-message">Address must be 5-40 characters</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <label for="emp_city" class="required">City</label>
                        <div class="form-group">
                            <input type="text" id="emp_city" name="emp_city" placeholder="City" required minlength="3" maxlength="20">
                            <div id="city-error" class="validation-message">Please enter a valid city name</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_state" class="required">State</label>
                        <div class="form-group">
                            <select id="emp_state" name="emp_state" required>
                                <option value="">Select State</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Puducherry">Puducherry</option>
                            </select>
                            <div id="state-error" class="validation-message">Please select a state</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <label for="emp_zipcode" class="required">Zip/Postal Code</label>
                        <div class="form-group">
                            <input type="text" id="emp_zipcode" name="emp_zipcode" placeholder="Zip/Postal Code" required minlength="6" maxlength="6">
                            <div id="zipcode-error" class="validation-message">Please enter a valid 6-digit zip code</div>
                        </div>
                    </div>
                </div>
            </div>

           <!-- Bank Details -->
<div class="form-section">
    <h3 class="section-title">Bank Details</h3>
    <div class="form-row">
        <div class="form-col">
            <label for="emp_bank" class="required">Bank Name</label>
            <div class="form-group">
                <input type="text" id="emp_bank" name="emp_bank" placeholder="Bank Name" required minlength="3" maxlength="20">
                <div id="bank-error" class="validation-message">Please enter a valid bank name</div>
            </div>
        </div>
        <div class="form-col">
            <label for="emp_account" class="required">Account Number</label>
            <div class="form-group">
                <input type="text" id="emp_account" name="emp_account" placeholder="Account Number" required minlength="3" maxlength="18">
                <div id="account-error" class="validation-message">Account number must be 9-18 digits</div>
            </div>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-col">
            <label for="emp_ifsc" class="required">IFSC Code</label>
            <div class="form-group">
                <input type="text" id="emp_ifsc" name="emp_ifsc" placeholder="IFSC Code" required minlength="11" maxlength="11">
                <div id="ifsc-error" class="validation-message">Please enter a valid IFSC code (e.g. ABCD0123456)</div>
            </div>
        </div>
        <div class="form-col">
            <label for="emp_bank_branch" class="required">Branch Location</label>
            <div class="form-group">
                <input type="text" id="emp_bank_branch" name="emp_bank_branch" placeholder="Branch Location" required minlength="3" maxlength="30">
                <div id="bank-branch-error" class="validation-message">Please enter a valid branch location</div>
            </div>
        </div>
    </div>
</div>

            <!-- Employment Details -->
            <div class="form-section">
                <h3 class="section-title">Employment Details</h3>
                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_job_role" class="required">Job Role</label>
                        <div class="form-group">
                            <select id="emp_job_role" name="emp_job_role" required>
                                <option value="">Select Job Role</option>
                                <option value="Software Developer">Software Developer</option>
                                <option value="Web Developer">Web Developer</option>
                                <option value="Database Administrator">Database Administrator</option>
                            </select>
                            <div id="job-error" class="validation-message">Please select a job role</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <label for="emp_department" class="required">Department</label>
                        <div class="form-group">
                            <select id="emp_department" name="emp_department" required>
                                <option value="">Select Department</option>
                                <option value="Engineering">Engineering</option>
                                <option value="Human Resources">Human Resources</option>
                            </select>
                            <div id="dept-error" class="validation-message">Please select a department</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label class="required">Experience Status:</label>
                        <div class="form-group">
                            <select id="emp_experience_status" name="emp_experience_status" required>
                                <option value="">Select Experience</option>
                                <option value="Fresher">Fresher</option>
                                <option value="Experienced">Experienced</option>
                            </select>
                            <div id="exp-status-error" class="validation-message">Please select experience status</div>
                        </div>
                    </div>
                </div>

                <div id="experienceFields" style="display:none;">
                    <div class="form-row">
                        <div class="form-col">
                            <label for="emp_company_name">Previous Company Name</label>
                            <div class="form-group">
                                <input type="text" id="emp_company_name" name="emp_company_name" placeholder="Previous Company Name" minlength="3" maxlength="25">
                                <div id="company-error" class="validation-message">Please enter a valid company name</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="emp_years_of_experience">Years of Experience</label>
                            <div class="form-group">
                                <input type="text" id="emp_years_of_experience" name="emp_years_of_experience" placeholder="Years of Experience" min="1" max="40">
                                <div id="exp-years-error" class="validation-message">Please enter valid years (1-2 digits)</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="emp_offer_letter" class="required">Upload Offer Letter (PDF only)</label>
                            <div class="form-group">
                                <input type="file" id="emp_offer_letter" name="emp_offer_letter" accept=".pdf">
                                <div id="offer-letter-error" class="validation-message">Please upload your offer letter (PDF only, max 2MB)</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="emp_relieving_letter" class="required">Upload Relieving Letter (PDF only)</label>
                            <div class="form-group">
                                <input type="file" id="emp_relieving_letter" name="emp_relieving_letter" accept=".pdf">
                                <div id="relieving-letter-error" class="validation-message">Please upload your relieving letter (PDF only, max 2MB)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label for="emp_experience_certificate" class="required">Upload Experience Certificate (PDF only)</label>
                            <div class="form-group">
                                <input type="file" id="emp_experience_certificate" name="emp_experience_certificate" accept=".pdf">
                                <div id="experience-cert-error" class="validation-message">Please upload your experience certificate (PDF only, max 2MB)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label for="emp_salary_slip" class="required">Upload Last Salary Slip (PDF only)</label>
                            <div class="form-group">
                                <input type="file" id="emp_salary_slip" name="emp_salary_slip" accept=".pdf">
                                <div id="salary-slip-error" class="validation-message">Please upload your last salary slip (PDF only, max 2MB)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <label for="emp_joining_date" class="required">Joining Date</label>
                        <div class="form-group">
                            <input type="date" id="emp_joining_date" name="emp_joining_date" required>
                            <div id="joining-error" class="validation-message">Joining date cannot be in the past</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Education Documents -->
            <div class="form-section">
                <h3 class="section-title">Education Documents</h3>
                
                <div class="education-item">
                    <h4>SSC (10th Grade)</h4>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="ssc_school" class="required">School Name</label>
                            <div class="form-group">
                                <input type="text" id="ssc_school" name="ssc_school" required minlength="3" maxlength="50">
                                <div id="ssc-school-error" class="validation-message">Please enter a valid school name</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="ssc_year" class="required">Year of Completion</label>
                            <div class="form-group">
                                <input type="number" id="ssc_year" name="ssc_year" min="1950" max="2099" required>
                                <div id="ssc-year-error" class="validation-message">Please enter a valid year (1950-2099)</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="ssc_grade" class="required">Percentage/CGPA</label>
                            <div class="form-group">
                                <input type="text" id="ssc_grade" name="ssc_grade" required minlength="1" maxlength="5">
                                <div id="ssc-grade-error" class="validation-message">Please enter a valid percentage/CGPA</div>
                            </div>
                        </div>
                    </div>
                    <label class="file-input-label">
                        Upload SSC Certificate (PDF only)
                        <input type="file" id="emp_ssc_doc" name="emp_ssc_doc" required accept=".pdf" style="display: none;">
                    </label>
                    <div id="ssc-error" class="validation-message">Only PDF files (max 2MB)</div>
                </div>
                
                <div class="education-item">
                    <h4>Intermediate/Diploma</h4>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="inter_college" class="required">College Name</label>
                            <div class="form-group">
                                <input type="text" id="inter_college" name="inter_college" required minlength="3" maxlength="50">
                                <div id="inter-college-error" class="validation-message">Please enter a valid college name</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="inter_year" class="required">Year of Completion</label>
                            <div class="form-group">
                                <input type="number" id="inter_year" name="inter_year" min="1950" max="2099" required>
                                <div id="inter-year-error" class="validation-message">Please enter a valid year (1950-2099)</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="inter_grade" class="required">Percentage/CGPA</label>
                            <div class="form-group">
                                <input type="text" id="inter_grade" name="inter_grade" required minlength="1" maxlength="5">
                                <div id="inter-grade-error" class="validation-message">Please enter a valid percentage/CGPA</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="inter_branch" class="required">Branch/Stream</label>
                            <div class="form-group">
                                <input type="text" id="inter_branch" name="inter_branch" required minlength="3" maxlength="30">
                                <div id="inter-branch-error" class="validation-message">Please enter a valid branch/stream</div>
                            </div>
                        </div>
                    </div>
                    <label class="file-input-label">
                        Upload Intermediate Certificate (PDF only)
                        <input type="file" id="emp_inter_doc" name="emp_inter_doc" required accept=".pdf" style="display: none;">
                    </label>
                    <div id="inter-error" class="validation-message">Only PDF files (max 2MB)</div>
                </div>
                
                <div class="education-item">
                    <h4>Graduation</h4>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="grad_college" class="required">University/College Name</label>
                            <div class="form-group">
                                <input type="text" id="grad_college" name="grad_college" required minlength="3" maxlength="50">
                                <div id="grad-college-error" class="validation-message">Please enter a valid university/college name</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="grad_year" class="required">Year of Completion</label>
                            <div class="form-group">
                                <input type="number" id="grad_year" name="grad_year" min="1950" max="2099" required>
                                <div id="grad-year-error" class="validation-message">Please enter a valid year (1950-2099)</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="grad_grade" class="required">Percentage/CGPA</label>
                            <div class="form-group">
                                <input type="text" id="grad_grade" name="grad_grade" required minlength="1" maxlength="5">
                                <div id="grad-grade-error" class="validation-message">Please enter a valid percentage/CGPA</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label for="grad_degree" class="required">Degree</label>
                            <div class="form-group">
                                <input type="text" id="grad_degree" name="grad_degree" required minlength="3" maxlength="30">
                                <div id="grad-degree-error" class="validation-message">Please enter a valid degree</div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label for="grad_branch" class="required">Branch/Stream</label>
                            <div class="form-group">
                                <input type="text" id="grad_branch" name="grad_branch" required minlength="3" maxlength="30">
                                <div id="grad-branch-error" class="validation-message">Please enter a valid branch/stream</div>
                            </div>
                        </div>
                    </div>
                    <label class="file-input-label">
                        Upload Graduation Certificate (PDF only)
                        <input type="file" id="emp_grad_doc" name="emp_grad_doc" accept=".pdf" style="display: none;">
                    </label>
                    <div id="grad-error" class="validation-message">Only PDF files (max 2MB)</div>
                </div>
            </div>

            <!-- Additional Documents -->
            <div class="form-section">
                <h3 class="section-title">Additional Documents</h3>
                
                <label class="file-input-label">
                    Upload Resume/CV (PDF/DOC/DOCX)
                    <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" style="display: none;">
                </label>
                <div id="resume-error" class="validation-message">Only PDF, DOC, or DOCX files (max 2MB)</div>
                
                <label class="file-input-label">
                    Upload ID Proof (Aadhaar/PAN/Passport)
                    <input type="file" id="id_proof" name="id_proof" accept=".pdf,.jpg,.png" style="display: none;">
                </label>
                <div id="id-proof-error" class="validation-message">Only PDF, JPG, or PNG files (max 2MB)</div>
                
                <label class="file-input-label">
                    Upload Signed Offer Letter
                    <input type="file" id="signed_document" name="signed_document" accept=".pdf,.jpg,.png" style="display: none;">
                </label>
                <div id="signed-doc-error" class="validation-message">Only PDF, JPG, or PNG files (max 2MB)</div>
              
            </div>

            <div class="form-group checkbox-group">
                <input type="checkbox" id="emp_terms_accepted" name="emp_terms_accepted" required>
                <label for="emp_terms_accepted" class="required">I certify that the information provided in this form is true and complete to the best of my knowledge. I understand that any false statements or omissions may be grounds for termination of employment.
                    I consent to the processing of my personal data for the purpose of employment and onboarding in accordance with the company's privacy policy.</label>
                <div id="terms-error" class="validation-message">You must accept the terms and conditions</div>
            </div>

            <div class="form-group">
                <button type="submit" id="submitBtn" class="btn btn-primary btn-block">Complete Onboarding</button>
            </div>
        </form>
    </div>

    <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Regex patterns
    const nameRegex = /^[A-Za-z\s]{3,30}$/;
    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    const mobileRegex = /^[6-9]\d{9}$/;
    const addressRegex = /^.{5,40}$/;
    const cityRegex = /^[A-Za-z\s]{3,20}$/;
    const zipRegex = /^\d{6}$/;
    const bankRegex = /^[A-Za-z\s]{3,20}$/;
    const accountRegex = /^\d{9,18}$/;
    const ifscRegex = /^[A-Z]{4}0[A-Z0-9]{6}$/;
    const bankBranchRegex = /^[A-Za-z\s\-]{3,30}$/;
    const companyRegex = /^[A-Za-z\s]{3,25}$/;
    const expYearsRegex = /^[1-9]\d?$/;
    const schoolRegex = /^[A-Za-z\s]{3,50}$/;
    const yearRegex = /^(19|20)\d{2}$/;
    const gradeRegex = /^[0-9]{1,3}(\.[0-9]{1,2})?%?$|^[0-9]\.[0-9]{1,2}$/;
    const branchRegex = /^[A-Za-z\s\-]{3,30}$/;
    const degreeRegex = /^[A-Za-z\s\-]{3,30}$/;
    const pdfRegex = /\.pdf$/i;
    const imageRegex = /\.(jpg|jpeg|png)$/i;
    const docRegex = /\.(doc|docx)$/i;

    // Set today's date as minimum for joining date
    const today = new Date();
    const formattedDate = today.toISOString().split('T')[0];
    document.getElementById('emp_joining_date').min = formattedDate;
    
    // Set max date for DOB (minimum age 20 years)
    const minDobDate = new Date(today.getFullYear() - 60, today.getMonth(), today.getDate());
    const maxDobDate = new Date(today.getFullYear() - 20, today.getMonth(), today.getDate());
    document.getElementById('emp_dob').max = maxDobDate.toISOString().split('T')[0];
    document.getElementById('emp_dob').min = minDobDate.toISOString().split('T')[0];
    
    // Experience fields toggle
    const experienceStatus = document.getElementById('emp_experience_status');
    const experienceFields = document.getElementById('experienceFields');
    
    experienceStatus.addEventListener('change', function() {
        experienceFields.style.display = this.value === 'Experienced' ? 'block' : 'none';
        
        // Toggle required attribute for experience-related fields
        const experienceFieldsToToggle = [
            'emp_company_name', 'emp_years_of_experience', 
            'emp_salary_slip', 'emp_offer_letter',
            'emp_relieving_letter', 'emp_experience_certificate'
        ];
        
        experienceFieldsToToggle.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (this.value === 'Experienced') {
                field.setAttribute('required', '');
            } else {
                field.removeAttribute('required');
                if (field.type === 'file') {
                    field.value = ''; // Clear the file input
                } else {
                    field.value = ''; // Clear the input
                }
            }
        });
    });
    
    // Initialize experience fields visibility
    experienceFields.style.display = experienceStatus.value === 'Experienced' ? 'block' : 'none';

    // Add event listeners for all input fields to validate on blur (when user leaves the field)
    const allInputs = document.querySelectorAll('input, select, textarea');
    allInputs.forEach(input => {
        // Skip file inputs as they are handled separately
        if (input.type !== 'file') {
            input.addEventListener('blur', function() {
                validateField(this);
            });
        }
    });

    // Function to validate a field based on its ID
    function validateField(field) {
        const fieldId = field.id;
        
        switch(fieldId) {
            case 'emp_name': return validateName();
            case 'emp_email': return validateEmail();
            case 'emp_dob': return validateDOB();
            case 'emp_mobile': return validateMobile();
            case 'emp_address': return validateAddress();
            case 'emp_city': return validateCity();
            case 'emp_state': return validateState();
            case 'emp_zipcode': return validateZipcode();
            case 'emp_bank': return validateBank();
            case 'emp_account': return validateAccount();
            case 'emp_ifsc': return validateIFSC();
            case 'emp_bank_branch': return validateBankBranch();
            case 'emp_job_role': return validateJobRole();
            case 'emp_department': return validateDepartment();
            case 'emp_experience_status': return validateExperienceStatus();
            case 'emp_company_name': return validateCompany();
            case 'emp_years_of_experience': return validateExpYears();
            case 'emp_joining_date': return validateJoiningDate();
            case 'ssc_school': return validateSSCSchool();
            case 'ssc_year': return validateSSCYear();
            case 'ssc_grade': return validateSSCGrade();
            case 'inter_college': return validateInterCollege();
            case 'inter_year': return validateInterYear();
            case 'inter_grade': return validateInterGrade();
            case 'inter_branch': return validateInterBranch();
            case 'grad_college': return validateGradCollege();
            case 'grad_year': return validateGradYear();
            case 'grad_grade': return validateGradGrade();
            case 'grad_degree': return validateGradDegree();
            case 'grad_branch': return validateGradBranch();
            default: return true;
        }
    }

    // File upload validations
    document.getElementById('emp_profile_pic').addEventListener('change', validateProfilePic);
    document.getElementById('emp_salary_slip').addEventListener('change', validateSalarySlip);
    document.getElementById('emp_offer_letter').addEventListener('change', validateOfferLetter);
    document.getElementById('emp_relieving_letter').addEventListener('change', validateRelievingLetter);
    document.getElementById('emp_experience_certificate').addEventListener('change', validateExperienceCertificate);
    document.getElementById('emp_ssc_doc').addEventListener('change', validateSSCDoc);
    document.getElementById('emp_inter_doc').addEventListener('change', validateInterDoc);
    document.getElementById('emp_grad_doc').addEventListener('change', validateGradDoc);
    document.getElementById('resume').addEventListener('change', validateResume);
    document.getElementById('id_proof').addEventListener('change', validateIdProof);
    document.getElementById('signed_document').addEventListener('change', validateSignedDoc);
    
    // Terms checkbox
    document.getElementById('emp_terms_accepted').addEventListener('change', validateTerms);

    // Form submission
    const form = document.getElementById('onboardingForm');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Validate all fields before submission
        if (validateForm()) {
            // Submit form data
            const formData = new FormData(form);
            
            // Show loading state
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            fetch('http://3.84.202.40:3000/save-employee', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Onboarding form submitted successfully!');
                    form.reset();
                    // Reset validation states
                    document.querySelectorAll('.valid, .invalid').forEach(el => {
                        el.classList.remove('valid', 'invalid');
                    });
                } else {
                    throw new Error(data.error || 'Submission failed');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error: ' + error.message);
            })
            .finally(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Complete Onboarding';
            });
        }
    });

    // Validation functions
    function validateName() {
        const name = document.getElementById('emp_name');
        const error = document.getElementById('name-error');
        
        if (!name.value.trim()) {
            name.classList.add('invalid');
            name.classList.remove('valid');
            error.textContent = 'Full name is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!nameRegex.test(name.value.trim())) {
            name.classList.add('invalid');
            name.classList.remove('valid');
            error.textContent = 'Please enter a valid name (3-30 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            name.classList.add('valid');
            name.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateEmail() {
        const email = document.getElementById('emp_email');
        const error = document.getElementById('email-error');
        
        if (!email.value.trim()) {
            email.classList.add('invalid');
            email.classList.remove('valid');
            error.textContent = 'Email address is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!emailRegex.test(email.value.trim())) {
            email.classList.add('invalid');
            email.classList.remove('valid');
            error.textContent = 'Please enter a valid email address';
            error.style.display = 'block';
            return false;
        } else {
            email.classList.add('valid');
            email.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateDOB() {
        const dob = document.getElementById('emp_dob');
        const error = document.getElementById('dob-error');
        
        if (!dob.value) {
            dob.classList.add('invalid');
            dob.classList.remove('valid');
            error.textContent = 'Date of birth is required';
            error.style.display = 'block';
            return false;
        }
        
        const dobDate = new Date(dob.value);
        const today = new Date();
        const minAgeDate = new Date(today.getFullYear() - 60, today.getMonth(), today.getDate());
        const maxAgeDate = new Date(today.getFullYear() - 20, today.getMonth(), today.getDate());
        
        if (dobDate < minAgeDate || dobDate > maxAgeDate) {
            dob.classList.add('invalid');
            dob.classList.remove('valid');
            error.textContent = 'Age must be between 20 and 60 years';
            error.style.display = 'block';
            return false;
        } else {
            dob.classList.add('valid');
            dob.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateMobile() {
        const mobile = document.getElementById('emp_mobile');
        const error = document.getElementById('mobile-error');
        
        if (!mobile.value) {
            mobile.classList.add('invalid');
            mobile.classList.remove('valid');
            error.textContent = 'Mobile number is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!mobileRegex.test(mobile.value)) {
            mobile.classList.add('invalid');
            mobile.classList.remove('valid');
            error.textContent = 'Please enter a valid 10-digit mobile number starting with 6-9';
            error.style.display = 'block';
            return false;
        } else {
            mobile.classList.add('valid');
            mobile.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateAddress() {
        const address = document.getElementById('emp_address');
        const error = document.getElementById('address-error');
        
        if (!address.value.trim()) {
            address.classList.add('invalid');
            address.classList.remove('valid');
            error.textContent = 'Street address is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!addressRegex.test(address.value.trim())) {
            address.classList.add('invalid');
            address.classList.remove('valid');
            error.textContent = 'Address must be 5-40 characters';
            error.style.display = 'block';
            return false;
        } else {
            address.classList.add('valid');
            address.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateCity() {
        const city = document.getElementById('emp_city');
        const error = document.getElementById('city-error');
        
        if (!city.value.trim()) {
            city.classList.add('invalid');
            city.classList.remove('valid');
            error.textContent = 'City is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!cityRegex.test(city.value.trim())) {
            city.classList.add('invalid');
            city.classList.remove('valid');
            error.textContent = 'Please enter a valid city name (3-20 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            city.classList.add('valid');
            city.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateState() {
        const state = document.getElementById('emp_state');
        const error = document.getElementById('state-error');
        
        if (!state.value) {
            state.classList.add('invalid');
            state.classList.remove('valid');
            error.textContent = 'Please select a state';
            error.style.display = 'block';
            return false;
        } else {
            state.classList.add('valid');
            state.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateZipcode() {
        const zipcode = document.getElementById('emp_zipcode');
        const error = document.getElementById('zipcode-error');
        
        if (!zipcode.value) {
            zipcode.classList.add('invalid');
            zipcode.classList.remove('valid');
            error.textContent = 'Zip/Postal code is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!zipRegex.test(zipcode.value)) {
            zipcode.classList.add('invalid');
            zipcode.classList.remove('valid');
            error.textContent = 'Please enter a valid 6-digit zip code';
            error.style.display = 'block';
            return false;
        } else {
            zipcode.classList.add('valid');
            zipcode.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateBank() {
        const bank = document.getElementById('emp_bank');
        const error = document.getElementById('bank-error');
        
        if (!bank.value.trim()) {
            bank.classList.add('invalid');
            bank.classList.remove('valid');
            error.textContent = 'Bank name is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!bankRegex.test(bank.value.trim())) {
            bank.classList.add('invalid');
            bank.classList.remove('valid');
            error.textContent = 'Please enter a valid bank name (3-20 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            bank.classList.add('valid');
            bank.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateAccount() {
        const account = document.getElementById('emp_account');
        const error = document.getElementById('account-error');
        
        if (!account.value) {
            account.classList.add('invalid');
            account.classList.remove('valid');
            error.textContent = 'Account number is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!accountRegex.test(account.value)) {
            account.classList.add('invalid');
            account.classList.remove('valid');
            error.textContent = 'Please enter a valid account number (9-18 digits)';
            error.style.display = 'block';
            return false;
        } else {
            account.classList.add('valid');
            account.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateIFSC() {
        const ifsc = document.getElementById('emp_ifsc');
        const error = document.getElementById('ifsc-error');
        
        if (!ifsc.value.trim()) {
            ifsc.classList.add('invalid');
            ifsc.classList.remove('valid');
            error.textContent = 'IFSC code is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!ifscRegex.test(ifsc.value.trim())) {
            ifsc.classList.add('invalid');
            ifsc.classList.remove('valid');
            error.textContent = 'Please enter a valid IFSC code (11 characters, format: ABCD0123456)';
            error.style.display = 'block';
            return false;
        } else {
            ifsc.classList.add('valid');
            ifsc.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateBankBranch() {
        const bankBranch = document.getElementById('emp_bank_branch');
        const error = document.getElementById('bank-branch-error');
        
        if (!bankBranch.value.trim()) {
            bankBranch.classList.add('invalid');
            bankBranch.classList.remove('valid');
            error.textContent = 'Branch location is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!bankBranchRegex.test(bankBranch.value.trim())) {
            bankBranch.classList.add('invalid');
            bankBranch.classList.remove('valid');
            error.textContent = 'Please enter a valid branch location (3-30 characters)';
            error.style.display = 'block';
            return false;
        } else {
            bankBranch.classList.add('valid');
            bankBranch.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateJobRole() {
        const job = document.getElementById('emp_job_role');
        const error = document.getElementById('job-error');
        
        if (!job.value) {
            job.classList.add('invalid');
            job.classList.remove('valid');
            error.textContent = 'Please select a job role';
            error.style.display = 'block';
            return false;
        } else {
            job.classList.add('valid');
            job.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateDepartment() {
        const dept = document.getElementById('emp_department');
        const error = document.getElementById('dept-error');
        
        if (!dept.value) {
            dept.classList.add('invalid');
            dept.classList.remove('valid');
            error.textContent = 'Please select a department';
            error.style.display = 'block';
            return false;
        } else {
            dept.classList.add('valid');
            dept.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateExperienceStatus() {
        const expStatus = document.getElementById('emp_experience_status');
        const error = document.getElementById('exp-status-error');
        
        if (!expStatus.value) {
            expStatus.classList.add('invalid');
            expStatus.classList.remove('valid');
            error.textContent = 'Please select experience status';
            error.style.display = 'block';
            return false;
        } else {
            expStatus.classList.add('valid');
            expStatus.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateCompany() {
        const company = document.getElementById('emp_company_name');
        const error = document.getElementById('company-error');
        
        if (experienceStatus.value === 'Experienced' && !company.value.trim()) {
            company.classList.add('invalid');
            company.classList.remove('valid');
            error.textContent = 'Previous company name is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (experienceStatus.value === 'Experienced' && !companyRegex.test(company.value.trim())) {
            company.classList.add('invalid');
            company.classList.remove('valid');
            error.textContent = 'Please enter a valid company name (3-25 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            company.classList.add('valid');
            company.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateExpYears() {
        const expYears = document.getElementById('emp_years_of_experience');
        const error = document.getElementById('exp-years-error');
        
        if (experienceStatus.value === 'Experienced' && !expYears.value) {
            expYears.classList.add('invalid');
            expYears.classList.remove('valid');
            error.textContent = 'Years of experience is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (experienceStatus.value === 'Experienced' && !expYearsRegex.test(expYears.value)) {
            expYears.classList.add('invalid');
            expYears.classList.remove('valid');
            error.textContent = 'Please enter valid years of experience (1-40)';
            error.style.display = 'block';
            return false;
        } else {
            expYears.classList.add('valid');
            expYears.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateJoiningDate() {
        const joiningDate = document.getElementById('emp_joining_date');
        const error = document.getElementById('joining-error');
        
        if (!joiningDate.value) {
            joiningDate.classList.add('invalid');
            joiningDate.classList.remove('valid');
            error.textContent = 'Joining date is required';
            error.style.display = 'block';
            return false;
        }
        
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const selectedDate = new Date(joiningDate.value);
        
        if (selectedDate < today) {
            joiningDate.classList.add('invalid');
            joiningDate.classList.remove('valid');
            error.textContent = 'Joining date cannot be in the past';
            error.style.display = 'block';
            return false;
        } else {
            joiningDate.classList.add('valid');
            joiningDate.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateProfilePic() {
        const profilePic = document.getElementById('emp_profile_pic');
        const error = document.getElementById('profile-pic-error');
        
        if (profilePic.files.length === 0) {
            error.textContent = 'Profile picture is required';
            error.style.display = 'block';
            return false;
        }
        
        const file = profilePic.files[0];
        const maxSize = 2 * 1024 * 1024; // 2MB
        
        if (!file.type.match('image.*')) {
            error.textContent = 'Only image files are allowed (JPG, PNG)';
            error.style.display = 'block';
            profilePic.value = ''; // Clear the invalid file
            return false;
        }
        
        if (file.size > maxSize) {
            error.textContent = 'File size exceeds 2MB limit';
            error.style.display = 'block';
            profilePic.value = ''; // Clear the invalid file
            return false;
        }
        
        error.style.display = 'none';
        return true;
    }

    function validateSalarySlip() {
        const salarySlip = document.getElementById('emp_salary_slip');
        const error = document.getElementById('salary-slip-error');
        
        if (experienceStatus.value === 'Experienced' && salarySlip.files.length === 0) {
            error.textContent = 'Salary slip is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (salarySlip.files.length > 0 && !validateFile(salarySlip, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            salarySlip.value = ''; // Clear the invalid file
            return false;
        }
        
        error.style.display = 'none';
        return true;
    }

    function validateOfferLetter() {
        const offerLetter = document.getElementById('emp_offer_letter');
        const error = document.getElementById('offer-letter-error');
        
        if (experienceStatus.value === 'Experienced' && offerLetter.files.length === 0) {
            error.textContent = 'Offer letter is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (offerLetter.files.length > 0 && !validateFile(offerLetter, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            offerLetter.value = ''; // Clear the invalid file
            return false;
        }
        
        error.style.display = 'none';
        return true;
    }

    function validateRelievingLetter() {
        const relievingLetter = document.getElementById('emp_relieving_letter');
        const error = document.getElementById('relieving-letter-error');
        
        if (experienceStatus.value === 'Experienced' && relievingLetter.files.length === 0) {
            error.textContent = 'Relieving letter is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (relievingLetter.files.length > 0 && !validateFile(relievingLetter, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            relievingLetter.value = ''; // Clear the invalid file
            return false;
        }
        
        error.style.display = 'none';
        return true;
    }

    function validateExperienceCertificate() {
        const expCert = document.getElementById('emp_experience_certificate');
        const error = document.getElementById('experience-cert-error');
        
        if (experienceStatus.value === 'Experienced' && expCert.files.length === 0) {
            error.textContent = 'Experience certificate is required for experienced candidates';
            error.style.display = 'block';
            return false;
        }
        
        if (expCert.files.length > 0 && !validateFile(expCert, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            expCert.value = ''; // Clear the invalid file
            return false;
        }
        
        error.style.display = 'none';
        return true;
    }

    // Education validation functions
    function validateSSCSchool() {
        const school = document.getElementById('ssc_school');
        const error = document.getElementById('ssc-school-error');
        
        if (!school.value.trim()) {
            school.classList.add('invalid');
            school.classList.remove('valid');
            error.textContent = 'School name is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!schoolRegex.test(school.value.trim())) {
            school.classList.add('invalid');
            school.classList.remove('valid');
            error.textContent = 'Please enter a valid school name (3-50 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            school.classList.add('valid');
            school.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateSSCYear() {
        const year = document.getElementById('ssc_year');
        const error = document.getElementById('ssc-year-error');
        
        if (!year.value) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Year of completion is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!yearRegex.test(year.value)) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Please enter a valid year (1950-2099)';
            error.style.display = 'block';
            return false;
        } else {
            year.classList.add('valid');
            year.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateSSCGrade() {
        const grade = document.getElementById('ssc_grade');
        const error = document.getElementById('ssc-grade-error');
        
        if (!grade.value) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Percentage/CGPA is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!gradeRegex.test(grade.value)) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Please enter a valid percentage (e.g., 95%) or CGPA (e.g., 9.5)';
            error.style.display = 'block';
            return false;
        } else {
            grade.classList.add('valid');
            grade.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateSSCDoc() {
        const sscDoc = document.getElementById('emp_ssc_doc');
        const error = document.getElementById('ssc-error');
        
        if (sscDoc.files.length === 0) {
            error.textContent = 'SSC document is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!validateFile(sscDoc, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    function validateInterCollege() {
        const college = document.getElementById('inter_college');
        const error = document.getElementById('inter-college-error');
        
        if (!college.value.trim()) {
            college.classList.add('invalid');
            college.classList.remove('valid');
            error.textContent = 'College name is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!schoolRegex.test(college.value.trim())) {
            college.classList.add('invalid');
            college.classList.remove('valid');
            error.textContent = 'Please enter a valid college name (3-50 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            college.classList.add('valid');
            college.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateInterYear() {
        const year = document.getElementById('inter_year');
        const error = document.getElementById('inter-year-error');
        
        if (!year.value) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Year of completion is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!yearRegex.test(year.value)) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Please enter a valid year (1950-2099)';
            error.style.display = 'block';
            return false;
        } else {
            year.classList.add('valid');
            year.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateInterGrade() {
        const grade = document.getElementById('inter_grade');
        const error = document.getElementById('inter-grade-error');
        
        if (!grade.value) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Percentage/CGPA is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!gradeRegex.test(grade.value)) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Please enter a valid percentage (e.g., 95%) or CGPA (e.g., 9.5)';
            error.style.display = 'block';
            return false;
        } else {
            grade.classList.add('valid');
            grade.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateInterBranch() {
        const branch = document.getElementById('inter_branch');
        const error = document.getElementById('inter-branch-error');
        
        if (!branch.value.trim()) {
            branch.classList.add('invalid');
            branch.classList.remove('valid');
            error.textContent = 'Branch/Stream is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!branchRegex.test(branch.value.trim())) {
            branch.classList.add('invalid');
            branch.classList.remove('valid');
            error.textContent = 'Please enter a valid branch/stream (3-30 characters)';
            error.style.display = 'block';
            return false;
        } else {
            branch.classList.add('valid');
            branch.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateInterDoc() {
        const interDoc = document.getElementById('emp_inter_doc');
        const error = document.getElementById('inter-error');
        
        if (interDoc.files.length === 0) {
            error.textContent = 'Intermediate document is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!validateFile(interDoc, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradCollege() {
        const college = document.getElementById('grad_college');
        const error = document.getElementById('grad-college-error');
        
        if (!college.value.trim()) {
            college.classList.add('invalid');
            college.classList.remove('valid');
            error.textContent = 'University/College name is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!schoolRegex.test(college.value.trim())) {
            college.classList.add('invalid');
            college.classList.remove('valid');
            error.textContent = 'Please enter a valid university/college name (3-50 alphabetic characters)';
            error.style.display = 'block';
            return false;
        } else {
            college.classList.add('valid');
            college.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradYear() {
        const year = document.getElementById('grad_year');
        const error = document.getElementById('grad-year-error');
        
        if (!year.value) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Year of completion is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!yearRegex.test(year.value)) {
            year.classList.add('invalid');
            year.classList.remove('valid');
            error.textContent = 'Please enter a valid year (1950-2099)';
            error.style.display = 'block';
            return false;
        } else {
            year.classList.add('valid');
            year.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradGrade() {
        const grade = document.getElementById('grad_grade');
        const error = document.getElementById('grad-grade-error');
        
        if (!grade.value) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Percentage/CGPA is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!gradeRegex.test(grade.value)) {
            grade.classList.add('invalid');
            grade.classList.remove('valid');
            error.textContent = 'Please enter a valid percentage (e.g., 95%) or CGPA (e.g., 9.5)';
            error.style.display = 'block';
            return false;
        } else {
            grade.classList.add('valid');
            grade.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradDegree() {
        const degree = document.getElementById('grad_degree');
        const error = document.getElementById('grad-degree-error');
        
        if (!degree.value.trim()) {
            degree.classList.add('invalid');
            degree.classList.remove('valid');
            error.textContent = 'Degree is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!degreeRegex.test(degree.value.trim())) {
            degree.classList.add('invalid');
            degree.classList.remove('valid');
            error.textContent = 'Please enter a valid degree (3-30 characters)';
            error.style.display = 'block';
            return false;
        } else {
            degree.classList.add('valid');
            degree.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradBranch() {
        const branch = document.getElementById('grad_branch');
        const error = document.getElementById('grad-branch-error');
        
        if (!branch.value.trim()) {
            branch.classList.add('invalid');
            branch.classList.remove('valid');
            error.textContent = 'Branch/Stream is required';
            error.style.display = 'block';
            return false;
        }
        
        if (!branchRegex.test(branch.value.trim())) {
            branch.classList.add('invalid');
            branch.classList.remove('valid');
            error.textContent = 'Please enter a valid branch/stream (3-30 characters)';
            error.style.display = 'block';
            return false;
        } else {
            branch.classList.add('valid');
            branch.classList.remove('invalid');
            error.style.display = 'none';
            return true;
        }
    }

    function validateGradDoc() {
        const gradDoc = document.getElementById('emp_grad_doc');
        const error = document.getElementById('grad-error');
        
        if (gradDoc.files.length > 0 && !validateFile(gradDoc, ['application/pdf'])) {
            error.textContent = 'Only PDF files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    // Additional documents validation
    function validateResume() {
        const resume = document.getElementById('resume');
        const error = document.getElementById('resume-error');
        
        if (resume.files.length > 0 && !validateFile(resume, ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'])) {
            error.textContent = 'Only PDF, DOC, or DOCX files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    function validateIdProof() {
        const idProof = document.getElementById('id_proof');
        const error = document.getElementById('id-proof-error');
        
        if (idProof.files.length > 0 && !validateFile(idProof, ['application/pdf', 'image/jpeg', 'image/png'])) {
            error.textContent = 'Only PDF, JPG, or PNG files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    function validateSignedDoc() {
        const signedDoc = document.getElementById('signed_document');
        const error = document.getElementById('signed-doc-error');
        
        if (signedDoc.files.length > 0 && !validateFile(signedDoc, ['application/pdf', 'image/jpeg', 'image/png'])) {
            error.textContent = 'Only PDF, JPG, or PNG files are allowed (max 2MB)';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    function validateTerms() {
        const terms = document.getElementById('emp_terms_accepted');
        const error = document.getElementById('terms-error');
        
        if (!terms.checked) {
            error.textContent = 'You must accept the terms and conditions';
            error.style.display = 'block';
            return false;
        } else {
            error.style.display = 'none';
            return true;
        }
    }

    // Helper function to validate files
    function validateFile(input, allowedTypes, fileIndex = 0) {
        const file = input.files[fileIndex];
        const maxSize = 2 * 1024 * 1024; // 2MB
        
        if (!file) return false;
        
        // Check file type
        let validType = false;
        const fileName = file.name.toLowerCase();
        
        if (allowedTypes.includes('application/pdf') && pdfRegex.test(fileName)) {
            validType = true;
        }
        if (allowedTypes.includes('image/jpeg') && /\.(jpg|jpeg)$/.test(fileName)) {
            validType = true;
        }
        if (allowedTypes.includes('image/png') && imageRegex.test(fileName)) {
            validType = true;
        }
        if (allowedTypes.includes('application/msword') && /\.doc$/.test(fileName)) {
            validType = true;
        }
        if (allowedTypes.includes('application/vnd.openxmlformats-officedocument.wordprocessingml.document') && /\.docx$/.test(fileName)) {
            validType = true;
        }
        
        if (!validType) return false;
        if (file.size > maxSize) return false;
        
        return true;
    }

    // Main form validation function
    function validateForm() {
        let isValid = true;
        
        // Personal Information
        if (!validateName()) isValid = false;
        if (!validateEmail()) isValid = false;
        if (!validateDOB()) isValid = false;
        if (!validateMobile()) isValid = false;
        
        // Address Information
        if (!validateAddress()) isValid = false;
        if (!validateCity()) isValid = false;
        if (!validateState()) isValid = false;
        if (!validateZipcode()) isValid = false;
        
        // Bank Details
        if (!validateBank()) isValid = false;
        if (!validateAccount()) isValid = false;
        if (!validateIFSC()) isValid = false;
        if (!validateBankBranch()) isValid = false;
        
        // Employment Details
        if (!validateJobRole()) isValid = false;
        if (!validateDepartment()) isValid = false;
        if (!validateExperienceStatus()) isValid = false;
        
        if (experienceStatus.value === 'Experienced') {
            if (!validateCompany()) isValid = false;
            if (!validateExpYears()) isValid = false;
            if (!validateSalarySlip()) isValid = false;
            if (!validateOfferLetter()) isValid = false;
            if (!validateRelievingLetter()) isValid = false;
            if (!validateExperienceCertificate()) isValid = false;
        }

        if (!validateJoiningDate()) isValid = false;
        if (!validateProfilePic()) isValid = false;

        // Education Documents
        if (!validateSSCSchool()) isValid = false;
        if (!validateSSCYear()) isValid = false;
        if (!validateSSCGrade()) isValid = false;
        if (!validateSSCDoc()) isValid = false;

        if (!validateInterCollege()) isValid = false;
        if (!validateInterYear()) isValid = false;
        if (!validateInterGrade()) isValid = false;
        if (!validateInterBranch()) isValid = false;
        if (!validateInterDoc()) isValid = false;

        if (!validateGradCollege()) isValid = false;
        if (!validateGradYear()) isValid = false;
        if (!validateGradGrade()) isValid = false;
        if (!validateGradDegree()) isValid = false;
        if (!validateGradBranch()) isValid = false;
        if (!validateGradDoc()) isValid = false;

        // Additional Documents
        if (!validateResume()) isValid = false;
        if (!validateIdProof()) isValid = false;
        if (!validateSignedDoc()) isValid = false;

        // Terms and Conditions
        if (!validateTerms()) isValid = false;

        if (!isValid) {
            // Scroll to the first error
            const firstError = document.querySelector('.invalid');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            alert('Please correct the errors in the form before submitting.');
        }

        return isValid;
    }
});
    </script>
</body>
</html>
